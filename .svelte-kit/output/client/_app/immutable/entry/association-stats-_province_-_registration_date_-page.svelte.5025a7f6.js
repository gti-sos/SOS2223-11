import{S as Ge,i as Je,s as Ue,k as Ve,q as C,y as g,a as A,l as He,m as Me,r as q,z as b,h as i,c as z,n as Re,b as $,R as We,A as d,g as _,d as c,B as v,U as Xe,o as Ke,e as qe,v as Ne,f as Pe,u as Qe,T as Ye,w as V,W as H,X as M}from"../chunks/index.ef99c551.js";import{A as Ze}from"../chunks/Alert.e4817582.js";import{B as Te}from"../chunks/Button.a64edcf1.js";import{C as he,a as ye,F as xe}from"../chunks/FormGroup.9ce7f9a3.js";import{C as et}from"../chunks/Container.715665e7.js";import{F as tt,L as R,I as W}from"../chunks/Label.ae91bbdc.js";import"../chunks/Offcanvas.svelte_svelte_type_style_lang.8a658554.js";import{p as nt}from"../chunks/stores.e664f759.js";function st(r){let n;return{c(){n=C("Volver a asociaciones")},l(t){n=q(t,"Volver a asociaciones")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function je(r){let n,t;return n=new Ze({props:{dismissible:!0,$$slots:{default:[at]},$$scope:{ctx:r}}}),n.$on("dismiss",r[12]),{c(){g(n.$$.fragment)},l(s){b(n.$$.fragment,s)},m(s,f){d(n,s,f),t=!0},p(s,f){const a={};f&67109120&&(a.$$scope={dirty:f,ctx:s}),n.$set(a)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){c(n.$$.fragment,s),t=!1},d(s){v(n,s)}}}function at(r){let n;return{c(){n=C(r[8])},l(t){n=q(t,r[8])},m(t,s){$(t,n,s)},p(t,s){s&256&&Qe(n,t[8])},d(t){t&&i(n)}}}function Oe(r){let n,t;return n=new he({props:{class:"w-50 p-3 mb-3 mx-auto",$$slots:{default:[gt]},$$scope:{ctx:r}}}),{c(){g(n.$$.fragment)},l(s){b(n.$$.fragment,s)},m(s,f){d(n,s,f),t=!0},p(s,f){const a={};f&67108991&&(a.$$scope={dirty:f,ctx:s}),n.$set(a)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){c(n.$$.fragment,s),t=!1},d(s){v(n,s)}}}function rt(r){let n,t,s,f;return{c(){n=C("Actualiza la asociación de "),t=C(r[10]),s=C(" en el año "),f=C(r[11])},l(a){n=q(a,"Actualiza la asociación de "),t=q(a,r[10]),s=q(a," en el año "),f=q(a,r[11])},m(a,l){$(a,n,l),$(a,t,l),$(a,s,l),$(a,f,l)},p:Ye,d(a){a&&i(n),a&&i(t),a&&i(s),a&&i(f)}}}function ft(r){let n;return{c(){n=C("Nombre de la asociación")},l(t){n=q(t,"Nombre de la asociación")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function lt(r){let n;return{c(){n=C("Objetivo de la asociación")},l(t){n=q(t,"Objetivo de la asociación")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function ut(r){let n;return{c(){n=C("Provincia")},l(t){n=q(t,"Provincia")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function ot(r){let n;return{c(){n=C("Año de registro")},l(t){n=q(t,"Año de registro")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function it(r){let n;return{c(){n=C("Año de creación")},l(t){n=q(t,"Año de creación")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function $t(r){let n;return{c(){n=C("Código postal")},l(t){n=q(t,"Código postal")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function pt(r){let n;return{c(){n=C("Código municipal")},l(t){n=q(t,"Código municipal")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function mt(r){let n;return{c(){n=C("Actualizar")},l(t){n=q(t,"Actualizar")},m(t,s){$(t,n,s)},d(t){t&&i(n)}}}function _t(r){let n,t,s,f,a,l,o,p,O,P,N,L,k,S,I,T,X,j,U,K,B,Q,F,h,Y,E,Z,m,w,y,G,x,D,ne,ee,J,te;n=new R({props:{for:"name",$$slots:{default:[ft]},$$scope:{ctx:r}}});function Fe(e){r[14](e)}let se={required:!0,id:"name",placeholder:"Nombre"};r[0]!==void 0&&(se.value=r[0]),s=new W({props:se}),V.push(()=>H(s,"value",Fe)),l=new R({props:{for:"goal",$$slots:{default:[lt]},$$scope:{ctx:r}}});function Le(e){r[15](e)}let ae={required:!0,id:"goal",placeholder:"Objetivo"};r[1]!==void 0&&(ae.value=r[1]),p=new W({props:ae}),V.push(()=>H(p,"value",Le)),N=new R({props:{for:"province",$$slots:{default:[ut]},$$scope:{ctx:r}}});function Se(e){r[16](e)}let re={required:!0,id:"province",placeholder:"Provincia"};r[5]!==void 0&&(re.value=r[5]),k=new W({props:re}),V.push(()=>H(k,"value",Se)),T=new R({props:{for:"registration-date",$$slots:{default:[ot]},$$scope:{ctx:r}}});function Be(e){r[17](e)}let fe={type:"number",required:!0,id:"registration-date",placeholder:"0000"};r[2]!==void 0&&(fe.value=r[2]),j=new W({props:fe}),V.push(()=>H(j,"value",Be)),B=new R({props:{for:"creation-date",$$slots:{default:[it]},$$scope:{ctx:r}}});function Ee(e){r[18](e)}let le={type:"number",required:!0,id:"creation-date",placeholder:"0000"};r[3]!==void 0&&(le.value=r[3]),F=new W({props:le}),V.push(()=>H(F,"value",Ee)),E=new R({props:{for:"zip-code",$$slots:{default:[$t]},$$scope:{ctx:r}}});function Ie(e){r[19](e)}let ue={type:"number",required:!0,id:"zip-code",placeholder:"00000"};r[4]!==void 0&&(ue.value=r[4]),m=new W({props:ue}),V.push(()=>H(m,"value",Ie)),G=new R({props:{for:"township-code",$$slots:{default:[pt]},$$scope:{ctx:r}}});function De(e){r[20](e)}let oe={type:"number",required:!0,id:"township-code",placeholder:"000",class:"mb-3"};return r[6]!==void 0&&(oe.value=r[6]),D=new W({props:oe}),V.push(()=>H(D,"value",De)),J=new Te({props:{color:"primary",type:"submit",$$slots:{default:[mt]},$$scope:{ctx:r}}}),{c(){g(n.$$.fragment),t=A(),g(s.$$.fragment),a=A(),g(l.$$.fragment),o=A(),g(p.$$.fragment),P=A(),g(N.$$.fragment),L=A(),g(k.$$.fragment),I=A(),g(T.$$.fragment),X=A(),g(j.$$.fragment),K=A(),g(B.$$.fragment),Q=A(),g(F.$$.fragment),Y=A(),g(E.$$.fragment),Z=A(),g(m.$$.fragment),y=A(),g(G.$$.fragment),x=A(),g(D.$$.fragment),ee=A(),g(J.$$.fragment)},l(e){b(n.$$.fragment,e),t=z(e),b(s.$$.fragment,e),a=z(e),b(l.$$.fragment,e),o=z(e),b(p.$$.fragment,e),P=z(e),b(N.$$.fragment,e),L=z(e),b(k.$$.fragment,e),I=z(e),b(T.$$.fragment,e),X=z(e),b(j.$$.fragment,e),K=z(e),b(B.$$.fragment,e),Q=z(e),b(F.$$.fragment,e),Y=z(e),b(E.$$.fragment,e),Z=z(e),b(m.$$.fragment,e),y=z(e),b(G.$$.fragment,e),x=z(e),b(D.$$.fragment,e),ee=z(e),b(J.$$.fragment,e)},m(e,u){d(n,e,u),$(e,t,u),d(s,e,u),$(e,a,u),d(l,e,u),$(e,o,u),d(p,e,u),$(e,P,u),d(N,e,u),$(e,L,u),d(k,e,u),$(e,I,u),d(T,e,u),$(e,X,u),d(j,e,u),$(e,K,u),d(B,e,u),$(e,Q,u),d(F,e,u),$(e,Y,u),d(E,e,u),$(e,Z,u),d(m,e,u),$(e,y,u),d(G,e,u),$(e,x,u),d(D,e,u),$(e,ee,u),d(J,e,u),te=!0},p(e,u){const ie={};u&67108864&&(ie.$$scope={dirty:u,ctx:e}),n.$set(ie);const $e={};!f&&u&1&&(f=!0,$e.value=e[0],M(()=>f=!1)),s.$set($e);const pe={};u&67108864&&(pe.$$scope={dirty:u,ctx:e}),l.$set(pe);const me={};!O&&u&2&&(O=!0,me.value=e[1],M(()=>O=!1)),p.$set(me);const _e={};u&67108864&&(_e.$$scope={dirty:u,ctx:e}),N.$set(_e);const ce={};!S&&u&32&&(S=!0,ce.value=e[5],M(()=>S=!1)),k.$set(ce);const ge={};u&67108864&&(ge.$$scope={dirty:u,ctx:e}),T.$set(ge);const be={};!U&&u&4&&(U=!0,be.value=e[2],M(()=>U=!1)),j.$set(be);const de={};u&67108864&&(de.$$scope={dirty:u,ctx:e}),B.$set(de);const ve={};!h&&u&8&&(h=!0,ve.value=e[3],M(()=>h=!1)),F.$set(ve);const we={};u&67108864&&(we.$$scope={dirty:u,ctx:e}),E.$set(we);const Ae={};!w&&u&16&&(w=!0,Ae.value=e[4],M(()=>w=!1)),m.$set(Ae);const ze={};u&67108864&&(ze.$$scope={dirty:u,ctx:e}),G.$set(ze);const ke={};!ne&&u&64&&(ne=!0,ke.value=e[6],M(()=>ne=!1)),D.$set(ke);const Ce={};u&67108864&&(Ce.$$scope={dirty:u,ctx:e}),J.$set(Ce)},i(e){te||(_(n.$$.fragment,e),_(s.$$.fragment,e),_(l.$$.fragment,e),_(p.$$.fragment,e),_(N.$$.fragment,e),_(k.$$.fragment,e),_(T.$$.fragment,e),_(j.$$.fragment,e),_(B.$$.fragment,e),_(F.$$.fragment,e),_(E.$$.fragment,e),_(m.$$.fragment,e),_(G.$$.fragment,e),_(D.$$.fragment,e),_(J.$$.fragment,e),te=!0)},o(e){c(n.$$.fragment,e),c(s.$$.fragment,e),c(l.$$.fragment,e),c(p.$$.fragment,e),c(N.$$.fragment,e),c(k.$$.fragment,e),c(T.$$.fragment,e),c(j.$$.fragment,e),c(B.$$.fragment,e),c(F.$$.fragment,e),c(E.$$.fragment,e),c(m.$$.fragment,e),c(G.$$.fragment,e),c(D.$$.fragment,e),c(J.$$.fragment,e),te=!1},d(e){v(n,e),e&&i(t),v(s,e),e&&i(a),v(l,e),e&&i(o),v(p,e),e&&i(P),v(N,e),e&&i(L),v(k,e),e&&i(I),v(T,e),e&&i(X),v(j,e),e&&i(K),v(B,e),e&&i(Q),v(F,e),e&&i(Y),v(E,e),e&&i(Z),v(m,e),e&&i(y),v(G,e),e&&i(x),v(D,e),e&&i(ee),v(J,e)}}}function ct(r){let n,t;return n=new xe({props:{$$slots:{default:[_t]},$$scope:{ctx:r}}}),{c(){g(n.$$.fragment)},l(s){b(n.$$.fragment,s)},m(s,f){d(n,s,f),t=!0},p(s,f){const a={};f&67108991&&(a.$$scope={dirty:f,ctx:s}),n.$set(a)},i(s){t||(_(n.$$.fragment,s),t=!0)},o(s){c(n.$$.fragment,s),t=!1},d(s){v(n,s)}}}function gt(r){let n,t,s,f;return n=new ye({props:{$$slots:{default:[rt]},$$scope:{ctx:r}}}),s=new tt({props:{$$slots:{default:[ct]},$$scope:{ctx:r}}}),s.$on("submit",r[13]),{c(){g(n.$$.fragment),t=A(),g(s.$$.fragment)},l(a){b(n.$$.fragment,a),t=z(a),b(s.$$.fragment,a)},m(a,l){d(n,a,l),$(a,t,l),d(s,a,l),f=!0},p(a,l){const o={};l&67108864&&(o.$$scope={dirty:l,ctx:a}),n.$set(o);const p={};l&67108991&&(p.$$scope={dirty:l,ctx:a}),s.$set(p)},i(a){f||(_(n.$$.fragment,a),_(s.$$.fragment,a),f=!0)},o(a){c(n.$$.fragment,a),c(s.$$.fragment,a),f=!1},d(a){v(n,a),a&&i(t),v(s,a)}}}function bt(r){let n,t,s,f=r[7]&&je(r),a=r[9]&&Oe(r);return{c(){f&&f.c(),n=A(),a&&a.c(),t=qe()},l(l){f&&f.l(l),n=z(l),a&&a.l(l),t=qe()},m(l,o){f&&f.m(l,o),$(l,n,o),a&&a.m(l,o),$(l,t,o),s=!0},p(l,o){l[7]?f?(f.p(l,o),o&128&&_(f,1)):(f=je(l),f.c(),_(f,1),f.m(n.parentNode,n)):f&&(Ne(),c(f,1,1,()=>{f=null}),Pe()),l[9]?a?(a.p(l,o),o&512&&_(a,1)):(a=Oe(l),a.c(),_(a,1),a.m(t.parentNode,t)):a&&(Ne(),c(a,1,1,()=>{a=null}),Pe())},i(l){s||(_(f),_(a),s=!0)},o(l){c(f),c(a),s=!1},d(l){f&&f.d(l),l&&i(n),a&&a.d(l),l&&i(t)}}}function dt(r){let n,t,s,f,a,l;return s=new Te({props:{color:"primary",href:"/association-stats",$$slots:{default:[st]},$$scope:{ctx:r}}}),a=new et({props:{$$slots:{default:[bt]},$$scope:{ctx:r}}}),{c(){n=Ve("h2"),t=C("Detalles de la asociación "),g(s.$$.fragment),f=A(),g(a.$$.fragment),this.h()},l(o){n=He(o,"H2",{class:!0});var p=Me(n);t=q(p,"Detalles de la asociación "),b(s.$$.fragment,p),p.forEach(i),f=z(o),b(a.$$.fragment,o),this.h()},h(){Re(n,"class","svelte-1fzkxrc")},m(o,p){$(o,n,p),We(n,t),d(s,n,null),$(o,f,p),d(a,o,p),l=!0},p(o,[p]){const O={};p&67108864&&(O.$$scope={dirty:p,ctx:o}),s.$set(O);const P={};p&67109887&&(P.$$scope={dirty:p,ctx:o}),a.$set(P)},i(o){l||(_(s.$$.fragment,o),_(a.$$.fragment,o),l=!0)},o(o){c(s.$$.fragment,o),c(a.$$.fragment,o),l=!1},d(o){o&&i(n),v(s),o&&i(f),v(a,o)}}}function vt(r,n,t){let s;Xe(r,nt,m=>t(24,s=m)),Ke(async()=>{U()});let f=s.params.province,a=s.params.registration_date,l="/api/v2/association-stats/"+f+"/"+a,o="",p="",O=a,P="",N="",L=f,k="",S=!1,I="",T="";function X(){t(7,S=!1)}let j=!0;async function U(){T="";const m=await fetch(l,{method:"GET"});try{const w=await m.json();T=JSON.stringify(w,null,2),t(0,o=w.name),t(1,p=w.goal),t(2,O=w.registration_date),t(3,P=w.creation_date),t(4,N=w.zip_code),t(5,L=w.province),t(6,k=w.township_code),t(9,j=!0)}catch(w){t(9,j=!1),t(7,S=!0),t(8,I="La asociación no existe"),console.log(`Error parsing result: ${w}`)}await m.status}async function K(){T="",t(7,S=!1),console.log("que buena cortesia");const w=await(await fetch(l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,goal:p,registration_date:O,creation_date:P,zip_code:N,province:L,township_code:k})})).status;console.log("precheck"),console.log(w),w==201?(U(),t(7,S=!0),t(8,I="Asociación actualizada con éxito")):(U(),t(7,S=!0),t(8,I=`Los datos introducidos no son correctos para la asociación de ${f} en el año ${a}`))}function B(m){o=m,t(0,o)}function Q(m){p=m,t(1,p)}function F(m){L=m,t(5,L)}function h(m){O=m,t(2,O)}function Y(m){P=m,t(3,P)}function E(m){N=m,t(4,N)}function Z(m){k=m,t(6,k)}return[o,p,O,P,N,L,k,S,I,j,f,a,X,K,B,Q,F,h,Y,E,Z]}class jt extends Ge{constructor(n){super(),Je(this,n,vt,dt,Ue,{})}}export{jt as default};
