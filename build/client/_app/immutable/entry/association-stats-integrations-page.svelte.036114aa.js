import{S as w,i as x,s as b,y as _,z as g,A as y,g as v,d as A,B as C,o as E,Y as k,k as m,a as B,l as $,m as p,h as u,c as D,n as d,b as f,q as I,r as O}from"../chunks/index.ef99c551.js";import{B as S}from"../chunks/Button.a64edcf1.js";import{C as V}from"../chunks/Container.715665e7.js";import"../chunks/Offcanvas.svelte_svelte_type_style_lang.8a658554.js";import{H as j}from"../chunks/highcharts.095314ee.js";function q(s){let t;return{c(){t=I("Cargar gráfica")},l(e){t=O(e,"Cargar gráfica")},m(e,a){f(e,t,a)},d(e){e&&u(t)}}}function H(s){let t,e,a,r,i;return e=new S({props:{color:"primary",$$slots:{default:[q]},$$scope:{ctx:s}}}),e.$on("click",function(){k(s[1](h(s[0])))&&s[1](h(s[0])).apply(this,arguments)}),{c(){t=m("div"),_(e.$$.fragment),a=B(),r=m("div"),this.h()},l(n){t=$(n,"DIV",{class:!0});var o=p(t);g(e.$$.fragment,o),o.forEach(u),a=D(n),r=$(n,"DIV",{id:!0}),p(r).forEach(u),this.h()},h(){d(t,"class","my-3"),d(r,"id","chart-container")},m(n,o){f(n,t,o),y(e,t,null),f(n,a,o),f(n,r,o),i=!0},p(n,o){s=n;const c={};o&64&&(c.$$scope={dirty:o,ctx:s}),e.$set(c)},i(n){i||(v(e.$$.fragment,n),i=!0)},o(n){A(e.$$.fragment,n),i=!1},d(n){n&&u(t),C(e),n&&u(a),n&&u(r)}}}function N(s){let t,e;return t=new V({props:{$$slots:{default:[H]},$$scope:{ctx:s}}}),{c(){_(t.$$.fragment)},l(a){g(t.$$.fragment,a)},m(a,r){y(t,a,r),e=!0},p(a,[r]){const i={};r&65&&(i.$$scope={dirty:r,ctx:a}),t.$set(i)},i(a){e||(v(t.$$.fragment,a),e=!0)},o(a){A(t.$$.fragment,a),e=!1},d(a){C(t,a)}}}function h(s){return s.reduce((t,e)=>(t[e.name]=e.creation_date,t),{})}function P(s,t,e){let a="/api/v2/association-stats",r=[],i="";E(async()=>{n()});async function n(){i="";const c=await fetch(a,{method:"GET"});try{const l=await c.json();i=JSON.stringify(l,null,2),e(0,r=l)}catch(l){console.log(`Error parsing result: ${l}`)}await c.status}function o(c){console.log(c);const l=Object.values(c);j.chart("chart-container",{chart:{type:"column"},title:{text:"Asociaciones de Andalucía por fecha de creación"},xAxis:{categories:Object.keys(c)},yAxis:{title:{text:"Values"},min:1900,max:2020},series:[{name:"Asociaciones de Andalucía por fecha de creación",data:l}]})}return[r,o]}class Y extends w{constructor(t){super(),x(this,t,P,N,b,{})}}export{Y as default};
