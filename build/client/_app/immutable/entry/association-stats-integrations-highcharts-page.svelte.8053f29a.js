import{S as C,i as O,s as w,y as _,z as g,A as y,g as v,d as A,B as b,o as x,Y as E,k as m,a as j,l as p,m as $,h as u,c as k,n as d,b as f,q as B,r as I}from"../chunks/index.ef99c551.js";import{B as S}from"../chunks/Button.a64edcf1.js";import{C as V}from"../chunks/Container.715665e7.js";import"../chunks/Offcanvas.svelte_svelte_type_style_lang.8a658554.js";import{H as q}from"../chunks/highcharts.095314ee.js";function D(n){let e;return{c(){e=B("Cargar gráfica")},l(t){e=I(t,"Cargar gráfica")},m(t,a){f(t,e,a)},d(t){t&&u(e)}}}function H(n){let e,t,a,r,i;return t=new S({props:{color:"primary",$$slots:{default:[D]},$$scope:{ctx:n}}}),t.$on("click",function(){E(n[1](h(n[0])))&&n[1](h(n[0])).apply(this,arguments)}),{c(){e=m("div"),_(t.$$.fragment),a=j(),r=m("div"),this.h()},l(s){e=p(s,"DIV",{class:!0});var o=$(e);g(t.$$.fragment,o),o.forEach(u),a=k(s),r=p(s,"DIV",{id:!0}),$(r).forEach(u),this.h()},h(){d(e,"class","my-3"),d(r,"id","chart-container")},m(s,o){f(s,e,o),y(t,e,null),f(s,a,o),f(s,r,o),i=!0},p(s,o){n=s;const c={};o&64&&(c.$$scope={dirty:o,ctx:n}),t.$set(c)},i(s){i||(v(t.$$.fragment,s),i=!0)},o(s){A(t.$$.fragment,s),i=!1},d(s){s&&u(e),b(t),s&&u(a),s&&u(r)}}}function P(n){let e,t;return e=new V({props:{$$slots:{default:[H]},$$scope:{ctx:n}}}),{c(){_(e.$$.fragment)},l(a){g(e.$$.fragment,a)},m(a,r){y(e,a,r),t=!0},p(a,[r]){const i={};r&65&&(i.$$scope={dirty:r,ctx:a}),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){A(e.$$.fragment,a),t=!1},d(a){b(e,a)}}}function h(n){const e=n.reduce((t,a)=>(t[a.name]=a.creation_date,t),{});return Object.fromEntries(Object.entries(e).sort((t,a)=>t[1]-a[1]))}function z(n,e,t){let a="/api/v2/association-stats",r=[],i="";x(async()=>{s()});async function s(){i="";const c=await fetch(a,{method:"GET"});try{const l=await c.json();i=JSON.stringify(l,null,2),t(0,r=l)}catch(l){console.log(`Error parsing result: ${l}`)}await c.status}function o(c){const l=Object.values(c);q.chart("chart-container",{chart:{type:"spline"},title:{text:"Asociaciones de Andalucía por fecha de creación"},xAxis:{categories:Object.keys(c)},yAxis:{title:{text:"Values"},min:1950,max:2025},series:[{name:"Asociaciones de Andalucía por fecha de creación",data:l}]})}return[r,o]}class Y extends C{constructor(e){super(),O(this,e,z,P,w,{})}}export{Y as default};
